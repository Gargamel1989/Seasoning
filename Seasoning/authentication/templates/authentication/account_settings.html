{% extends "base.html" %}

{% block title %}{% if viewing_other %}Publiek Profiel{% else %}Mijn Profiel{% endif %}{% endblock %}

{% block myaccount-active %}{% if not viewing_other %}active{% endif %}{% endblock %}

{% block extra_script %}
<script src="{{ STATIC_URL }}js/recipe_summaries.js"></script>
{% endblock %}

{% block content %}

<div id="account-settings-container">
    <div id="account-settings">
        {% block account_settings %}
        <div id="account-image">
            <img src="{{ MEDIA_URL }}{{ viewed_user.avatar }}">
        </div>
        
        <div id="account-info">
            <div id="account-name">{{ viewed_user.get_full_name }}</div>
            <div id="account-rank">
                <strong>Rang</strong>
                <br />
                {{ viewed_user.rank }}{% if not viewing_other %} ({{ viewed_user.recipes_until_next_rank }} recepten tot volgende rang){% endif %}
            </div>
            
            {% if most_used_veganism == 2 %}
            <img src="{{ STATIC_URL }}img/vegan.png" title="Deze persoon heeft vooral veganistische recepten toegevoegd" />
            {% elif most_used_veganism == 1 %}
            <img src="{{ STATIC_URL }}img/vegetarian.png" title="Deze persoon heeft vooral vegetarische recepten toegevoegd" />
            {% elif most_used_veganism == 0 %}
            <img src="{{ STATIC_URL }}img/non-vegetarian.png" title="Deze persoon heeft vooral niet-vegetarische recepten toegevoegd" />
            {% endif %}
            
            <span id="mean-fp-wrapper" class="mean-wrapper">
                <img id="mean-fp-img" src="{{ STATIC_URL }}img/icons/cloud.png" />
                <div id="mean-fp">{{ average_fp|floatformat }}</div>
            </span>
            
            <span id="mean-rating-wrapper" class="mean-wrapper">
                <img id="mean-rating-img" src="{{ STATIC_URL }}img/icons/favorite.png" />
                <div id="mean-rating">{{ average_rating|floatformat:0 }}</div>
            </span>
            
        </div>
    </div>
        
    
    <div id="account-recipes">
        <h3>Toegevoegde recepten:</h3> 
        {% if not recipes %}
        <p>
            {% if viewing_other %}Deze gebruiker heeft{% else %}Je hebt{% endif %} nog geen recepten toegevoegd!
        </p>
        {% else %}    
        <div id="recipe-summaries-wrapper" class="summaries-wrapper">
           {% include "includes/recipe_summaries.html" %}
        </div>
        {% endif %}
        {% endblock %}
    </div>
    
    {% if not viewing_other %}
    <div id="account-settings-links">
    	<ul>
    		<li class="{% block public_profile_active %}active{% endblock %}"><a href="/profile/">Publiek Profiel</a></li>
            <li class="{% block profile_settings_active %}{% endblock %}"><a href="/account/settings/profile/">Profielinstellingen</a></li>
            <li class="{% block social_settings_active %}{% endblock %}"><a href="/account/settings/social/">Sociale Netwerken</a></li>
    		<li class="{% block privacy_settings_active %}{% endblock %}"><a href="/account/settings/privacy/">Privacyinstellingen</a></li>
    	</ul>
    </div>
    {% endif %}
    
    <br class="clear" />
</div>
{% endblock %}
