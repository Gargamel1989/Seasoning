{% extends "base.html" %}

{% block extrahead %}
    <link href="{{ STATIC_URL }}css/homepage.css" rel="stylesheet" type="text/css" media="screen" />
{% endblock %}

{% block content %}

<h1>{{ recipe.name }}</h1>

<p>Auteur: {{ recipe.author.username }}</p>
<p>Tijdstip toegevoegd: {{ recipe.time_added }}</p>
<p><img src="{{ MEDIA_URL }}{{ recipe.image }}"/></p>
<p>Soort maaltijd: {{ recipe.get_course_display }}</p>
<p>Keuken: {{ recipe.cuisine }}</p>
<p>Beschrijving: {{ recipe.description }}</p>

<p>
	<form action="/recipes/{{ recipe.id }}/" method="get">
        <label for="portions">
            Porties:
            <input type="text" name="portions" id="portions" value="{{ recipe.current_portions }}">
            <input type="submit" value="bereken" >
        </label>
    </form>
</p>
<p>Standaardporties: {{ recipe.portions }}</p>
<p>Actieve tijd: {{ recipe.active_time }}</p>
<p>Passieve tijd: {{ recipe.passive_time }}</p>
<p>Extra Info: {{ recipe.extra_info }}</p>
<p>Totale voetafdruk: {{ recipe.total_footprint }} kgCO2 ({{ recipe.total_footprint_pp }} pp.)</p>

<p>
	Ingredienten:<br>
	{% for uses in recipe.ingredients %}
		{% if uses.ingredient.ingredients %}
		<a href="/recipes/{{ uses.ingredient.id }}/">{{ uses.ingredient.name }}</a> - {{ uses.portions }} porties ({{ uses.ingredient.total_footprint_pp }} kgCO2/portie)<br>
		{% else %}
		<a href="/ingredients/{{ uses.ingredient.id }}/">{{ uses.ingredient.name }}</a> - {{ uses.amount }} {{ uses.unit.short_name}} ({{ uses.ingredient.unit_footprint }} kgCO2/{{ uses.unit.short }} -> {{ uses.ingredient.total_footprint }} kgCO2)<br>
		{% endif %}
		{% for avail in uses.ingredient.available_ins %}
		--- Komt van {{ avail.country.name }} met transportmethode: {{ avail.transport_method.name }} tussen {{ avail.month_from }} en {{ avail.month_until }} (Extra uitstoot van deze optie: {{ avail.extra_footprint }})<br>
		{% endfor %}
	{% endfor %}
</p>

<p>Bereidingswijze:
	<br>
	{{ recipe.instructions }}	
</p>

{% endblock %}
