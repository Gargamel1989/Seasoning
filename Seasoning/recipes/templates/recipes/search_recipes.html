{% extends "base.html" %}

{% block content %}

<h1>Recepten Zoeken</h1>

<form action="" method="POST">
  {% csrf_token %}
  {{ search_form.non_field_errors }}
  {{ include_ingredients_formset.non_field_errors }}
  {{ exclude_ingredients_formset.non_field_errors }}
  {{ search_form.as_p }}
  {{ include_ingredients_formset.management_form }}
  <div>
  	Ingredienten die in het gerecht moeten zitten:
	{% for form in include_ingredients_formset %}
  	  {{ form.as_p }}
	{% endfor %}
  </div>
  {{ exclude_ingredients_formset.management_form }}
  <div>
  	Ingredienten die niet in het gerecht mogen zitten:
	{% for form in exclude_ingredients_formset %}
  	  {{ form.as_p }}
	{% endfor %}
  </div>
  <br />
  <input type="submit" value="Zoeken" />
</form>

{% for recipe in recipes %}
    <a href="/recipes/{{ recipe.id }}/">{{ recipe.name }}</a><br />
{% endfor %}
<br>
<div class="pagination">
    <span class="step-links">
        {% if recipes.has_previous %}
            <a href="?page={{ recipes.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ recipes.number }} of {{ recipes.paginator.num_pages }}.
        </span>

        {% if contacts.has_next %}
            <a href="?page={{ recipes.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>

{% endblock %}
